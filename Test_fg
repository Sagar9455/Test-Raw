# Build HEX string
hex_str = ' '.join(f"{b:02X}" for b in raw_data)

# Determine if this is a special DID that should display in hex
is_force_hex_did = service_int == 0x22 and did in {0xF18B}

if is_force_hex_did:
    display_value = hex_str
else:
    try:
        ascii_str = bytes(raw_data).decode("ascii").strip()
        display_value = ascii_str
    except Exception:
        display_value = hex_str  # Fallback to hex
